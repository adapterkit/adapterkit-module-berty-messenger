syntax = "proto3";
option go_package = "./;messenger";

service MessengerSvc {
  rpc GetInvitationLink(GetInvitationLinkReq) returns(GetInvitationLinkRes) {};
  rpc GetContactRequests(GetContactRequestsReq) returns(stream GetContactRequestsRes) {};
  rpc AcceptContactRequest(AcceptContactRequestReq) returns(AcceptContactRequestRes) {};
}


message GetInvitationLinkReq {};

message GetInvitationLinkRes {
  string link = 1;
}

message GetContactRequestsReq {};

message GetContactRequestsRes {
  message ContactRequest {
    string name = 1;
    bytes public_key = 2;
  }
  repeated ContactRequest contact_requests = 1;
}

message AcceptContactRequestReq {
  string public_key = 1;
};

message AcceptContactRequestRes {
  bool success = 1;
};

